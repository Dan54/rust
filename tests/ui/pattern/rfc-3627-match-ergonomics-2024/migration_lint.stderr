error: binding modifiers may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:25:13
   |
LL |     let Foo(mut x) = &Foo(0);
   |             ^^^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
note: the lint level is defined here
  --> $DIR/migration_lint.rs:7:9
   |
LL | #![deny(rust_2024_incompatible_pat)]
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^
help: make the implied reference pattern explicit
   |
LL |     let &Foo(mut x) = &Foo(0);
   |         +

error: binding modifiers may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:30:13
   |
LL |     let Foo(mut x) = &mut Foo(0);
   |             ^^^ default binding mode is `ref mut`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &mut Foo(mut x) = &mut Foo(0);
   |         ++++

error: binding modifiers may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:35:13
   |
LL |     let Foo(ref x) = &Foo(0);
   |             ^^^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &Foo(ref x) = &Foo(0);
   |         +

error: binding modifiers may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:40:13
   |
LL |     let Foo(ref x) = &mut Foo(0);
   |             ^^^ default binding mode is `ref mut`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &mut Foo(ref x) = &mut Foo(0);
   |         ++++

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:57:13
   |
LL |     let Foo(&x) = &Foo(&0);
   |             ^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &Foo(&x) = &Foo(&0);
   |         +

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:62:13
   |
LL |     let Foo(&mut x) = &Foo(&mut 0);
   |             ^^^^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &Foo(&mut x) = &Foo(&mut 0);
   |         +

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:67:13
   |
LL |     let Foo(&x) = &mut Foo(&0);
   |             ^ default binding mode is `ref mut`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &mut Foo(&x) = &mut Foo(&0);
   |         ++++

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:72:13
   |
LL |     let Foo(&mut x) = &mut Foo(&mut 0);
   |             ^^^^ default binding mode is `ref mut`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &mut Foo(&mut x) = &mut Foo(&mut 0);
   |         ++++

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:81:17
   |
LL |     if let Some(&x) = &&&&&Some(&0u8) {
   |                 ^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference patterns explicit
   |
LL |     if let &&&&&Some(&x) = &&&&&Some(&0u8) {
   |            +++++

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:87:17
   |
LL |     if let Some(&mut x) = &&&&&Some(&mut 0u8) {
   |                 ^^^^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference patterns explicit
   |
LL |     if let &&&&&Some(&mut x) = &&&&&Some(&mut 0u8) {
   |            +++++

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:93:17
   |
LL |     if let Some(&x) = &&&&&mut Some(&0u8) {
   |                 ^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference patterns explicit
   |
LL |     if let &&&&&mut Some(&x) = &&&&&mut Some(&0u8) {
   |            ++++++++

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:99:17
   |
LL |     if let Some(&mut Some(Some(x))) = &mut Some(&mut Some(&mut Some(0u8))) {
   |                 ^^^^ default binding mode is `ref mut`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference patterns and variable binding mode explicit
   |
LL |     if let &mut Some(&mut Some(&mut Some(ref mut x))) = &mut Some(&mut Some(&mut Some(0u8))) {
   |            ++++                ++++      +++++++

error: binding modifiers may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:111:21
   |
LL |     let Struct { a, mut b, c } = &Struct { a: 0, b: 0, c: 0 };
   |                     ^^^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern and variable binding modes explicit
   |
LL |     let &Struct { ref a, mut b, ref c } = &Struct { a: 0, b: 0, c: 0 };
   |         +         +++           +++

error: binding modifiers and reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:117:21
   |
LL |     let Struct { a: &a, b, ref c } = &Struct { a: &0, b: &0, c: &0 };
   |                     ^      ^^^ default binding mode is `ref`
   |                     |
   |                     default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern and variable binding mode explicit
   |
LL |     let &Struct { a: &a, ref b, ref c } = &Struct { a: &0, b: &0, c: &0 };
   |         +                +++

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:124:24
   |
LL |     if let Struct { a: &Some(a), b: Some(&b), c: Some(c) } =
   |                        ^                 ^ default binding mode is `ref`
   |                        |
   |                        default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference patterns and variable binding mode explicit
   |
LL |     if let &Struct { a: &Some(a), b: &Some(&b), c: &Some(ref c) } =
   |            +                         +             +     +++

error: binding modifiers may only be written when the default binding mode is `move`
  --> $DIR/migration_lint.rs:137:15
   |
LL |         (Some(mut x), migration_lint_macros::mixed_edition_pat!(y)) => {
   |               ^^^     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ occurs within macro expansion
   |               |
   |               default binding mode is `ref`
   |
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
   = note: this error originates in the macro `migration_lint_macros::mixed_edition_pat` (in Nightly builds, run with -Z macro-backtrace for more info)
help: make the implied reference pattern explicit
   |
LL |         &(Some(mut x), migration_lint_macros::mixed_edition_pat!(y)) => {
   |         +

error: binding modifiers and reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:145:10
   |
LL |     let [&mut [ref a]] = &mut [&mut &[0]];
   |          ^^^^  ^^^ default binding mode is `ref`
   |          |
   |          default binding mode is `ref mut`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference patterns explicit
   |
LL |     let &mut [&mut &[ref a]] = &mut [&mut &[0]];
   |         ++++       +

error: reference patterns may only be written when the default binding mode is `move` in Rust 2024
  --> $DIR/migration_lint.rs:150:10
   |
LL |     let [&(_)] = &[&0];
   |          ^^ default binding mode is `ref`
   |
   = warning: this changes meaning in Rust 2024
   = note: for more information, see <https://doc.rust-lang.org/nightly/edition-guide/rust-2024/match-ergonomics.html>
help: make the implied reference pattern explicit
   |
LL |     let &[&(_)] = &[&0];
   |         +

error: aborting due to 18 previous errors

